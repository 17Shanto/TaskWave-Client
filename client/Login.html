<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../Styles/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>

    <nav class="navbar bg-body-tertiary">
        <div class="container-fluid">
          <h1 style="color: var(--Main-Purple, #635FC7);"><svg class="taskWave-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
            <rect width="6" height="25" rx="2" fill="#635FC7"/>
            <rect opacity="0.75" x="9" width="6" height="25" rx="2" fill="#635FC7"/>
            <rect opacity="0.5" x="18" width="6" height="25" rx="2" fill="#635FC7"/>
        </svg>TaskWave</h1>
        </div>
    </nav>

  <div class="card body-margin bg-color" style="width: 50rem;">
    <div class="card-body bg-color">
      <h1 class="text-center">Sign In</h1>
      <form class="mx-5 px-5">
        <!-- Email input -->
        <div class="form-outline mb-4">
          <input type="email" id="email" value="shanto100@gmail.com" class="form-control" />
          <label class="form-label" for="email">Email address</label>
        </div>
      
        <!-- Password input -->
        <div class="form-outline mb-4">
          <input type="password" id="password" value="password" class="form-control" />
          <label class="form-label" for="password">Password</label>
        </div>
      
        <!-- 2 column grid layout for inline styling -->
        <div class="row mb-4">
          <div class="col d-flex justify-content-center">
            
          </div>
        </div>
      
        <!-- Submit button -->
        <button type="button" onclick="login()" class="btn-sub">Sign in</button>
      
        <!-- Register buttons -->
        <div class="text-center">
          <p>Not a member? <a href="Register.html">Register</a></p>
          </button>
        </div>
      </form>
    </div>
  </div>

   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
<script src="./http.js"></script>
<script>
  async function login(){
    const email = document.getElementById('email').value;
    const pass = document.getElementById('password').value;
    const response = await request({email:email, password:pass}, 'users/login', 'POST'); 
    if(!response.user){
      return;
    }
    localStorage.setItem('id', response.user.id);
    window.location = 'Dashboard.html'
    //console.log(response);
  }
</script>
</html>